<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Trirong">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<style>
    body {
        font-family: "Trirong", serif;
    }
</style>

<body>
    <div class="container  mt-3 mx-auto" style="width: 700px;">
        <h2 style="text-align: center; background-color: bisque;color: blue;font-weight: bolder;">To Do List</h2>
        <div class="input-group">
            <input type="text" class="form-control input_t" placeholder="Recipient's username"
                aria-label="Recipient's username" aria-describedby="basic-addon2">
            <button class=" btn btn-primary" id="btn" type="button">Add</button>

            <!-- <div class="input-group-append">
            </div> -->
        </div>
        <ul class="list-group  mt-3 " id="ul_tag">
            <li class="list-group-item d-flex justify-content-between">

                <p class=" flex-grow-1 ">what u want to add</p>
                <button class="btn btn-warning mx-3 " onclick="Edit(this)">Edit</button>
                <button class="btn btn-danger" onclick="remove(this)">Remove</button>

            </li>

        </ul>
    </div>



    <script>
        //add button 
        let input_t = document.querySelector(".input_t");
        let button = document.getElementById("btn");
        let ul_tag = document.getElementById("ul_tag");
        button.addEventListener("click", btn = (e) => {
            if (ul_tag.children[0].className == "empty") {
                ul_tag.children[0].remove();
            }
            // input=input_t.value;
            // console.log(input);
            let curbtn = e.currentTarget;
            let curinput = curbtn.previousElementSibling;
            //console.log(curinput.value);
            let newli = document.createElement("li");
            newli.className = "d-flex justify-content-between"
            newli.classList.add("list-group-item");
            newli.innerHTML = ` 

            <p class=" flex-grow-1 ">${curinput.value}</p>
                    <button class=" btn btn-warning mx-3 " onclick="Edit(this)">Edit</button>
                    <button class="btn btn-danger" onclick="remove(this)">Remove</button>
        `
            ul_tag.appendChild(newli);

        });

        function Edit(e) {
            if (e.textContent == "Done") {
                e.textContent = "Edit"
                let curinput = e.previousElementSibling.value;
                console.log(e.previousElementSibling);
                let p = document.createElement("p");
                // p.innerText = `${curinput}`;
                p.textContent = curinput;
                p.className = "flex-grow-1"

                e.parentElement.replaceChild(p, e.previousElementSibling)

            } else {
                e.textContent = "Done"

                let chapname = e.previousElementSibling.textContent;
                console.log(e.previousElementSibling);
                let input_1 = document.createElement("input");
                // input_1.setAttribute('type', 'text');
                // input_1.className = 'form-control';
                input_1.type = "text";
                input_1.className = "form-control"

                input_1.value = chapname;
                  console.log( e.previousElementSibling);             
                       console.log(  e.parentElement);

                e.parentElement.replaceChild(input_1, e.previousElementSibling);


            }

        }
        function remove(e) {
            e.parentElement.remove();
            if (ul_tag.children.length <= 0) {
                let h3 = document.createElement("h3");
                h3.classList.add("empty");
                h3.textContent = "Add list and make bright future"
                ul_tag.appendChild(h3);

            }

        }

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>